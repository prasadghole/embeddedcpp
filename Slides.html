<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Embedded C++</title>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./css/reveal.css"/>

<link rel="stylesheet" href="./css/theme/night.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h1 class="title">Embedded C++</h1>
</section>
<section>
<section id="slide-orgb13e0b0">
<h2 id="orgb13e0b0">Introduction to C++</h2>
</section>
</section>
<section>
<section id="slide-org725cb5d">
<h2 id="org725cb5d">Devlopment tools</h2>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Vendor</th>
<th scope="col" class="org-left">C++ Standard</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Keil</td>
<td class="org-left">C++11</td>
</tr>

<tr>
<td class="org-left">ARM</td>
<td class="org-left">C++14</td>
</tr>

<tr>
<td class="org-left">IAR</td>
<td class="org-left">C++14</td>
</tr>

<tr>
<td class="org-left">GCC</td>
<td class="org-left">C++17</td>
</tr>
</tbody>
</table>
</section>
</section>
<section>
<section id="slide-org454f063">
<h2 id="org454f063">Setup</h2>
<div class="outline-text-2" id="text-org454f063">
</div>
</section>
<section id="slide-orgbb7763a">
<h3 id="orgbb7763a">Nucleo-F767ZI</h3>

<div class="figure">
<p><img src="./images/nucleo-f767.png" alt="nucleo-f767.png" />
</p>
</div>
</section>
<section id="slide-org895d62a">
<h3 id="org895d62a">Features</h3>
<ol>
<li>3 User LED</li>
<li>On board ST Link extension board for easy debugging</li>
<li>Mass storage</li>
<li>Virtual COM port</li>
<li>Flexible power supply options</li>
<li>Ethrnet RJ45</li>

</ol>
</section>
<section id="slide-org6ad7857">
<h3 id="org6ad7857">Nucleo-F303RE</h3>

<div class="figure">
<p><img src="./images/nucleo-f303.png" alt="nucleo-f303.png" />
</p>
</div>
</section>
<section id="slide-org80fcda1">
<h3 id="org80fcda1">Features</h3>
<ol>
<li>1 User LED</li>
<li>On board ST Link extension board for easy debugging</li>
<li>Mass storage</li>
<li>Virtual COM port</li>
<li>Flexible power supply options</li>

</ol>
</section>
</section>
<section>
<section id="slide-org293c690">
<h2 id="org293c690">Installing cross compiler</h2>
<ol>
<li>Go to the <a href="https://developer.arm.com">https://developer.arm.com</a></li>
<li>Click on Tools and software &gt;&gt; Open source Software &gt;&gt; GNU toolchain</li>
<li>Downlaod ARM GNU embedded toolchain as per your host platform (only 32 bit toolchains are available now)</li>

</ol>
<p>
<a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads">https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads</a>
</p>

</section>
</section>
<section>
<section id="slide-org7631197">
<h2 id="org7631197">Verify installation</h2>

</section>
</section>
<section>
<section id="slide-orgb33c061">
<h2 id="orgb33c061">Build Process</h2>
</section>
</section>
<section>
<section id="slide-org6a9a685">
<h2 id="org6a9a685">STM32F103 board</h2>
<div class="outline-text-2" id="text-org6a9a685">
</div>
</section>
<section id="slide-org6157913">
<h3 id="org6157913">Evaluation firmware</h3>
<p>
<a href="https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubef4.license=1562567706435.product=STM32CubeF4.version=1.24.0.html">https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubef4.license=1562567706435.product=STM32CubeF4.version=1.24.0.html</a>
<a href="https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubef7.html#resource">https://my.st.com/content/my_st_com/en/products/embedded-software/mcu-mpu-embedded-software/stm32-embedded-software/stm32cube-mcu-mpu-packages/stm32cubef7.html#resource</a>
</p>

</section>
</section>
<section>
<section id="slide-org38cdab1">
<h2 id="org38cdab1">stlink</h2>
<div class="outline-text-2" id="text-org38cdab1">
</div>
</section>
<section id="slide-org4d44ca6">
<h3 id="org4d44ca6">WARNING</h3>
<p>
Please make sure not to connect both external 5 volts power supply and USB power supply at same time.
</p>
</section>
<section id="slide-orge012330">
<h3 id="orge012330">ST link usb drive</h3>
<p>
Download usb driver from 
<a href="https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-utilities/stsw-link009.license=1564137466456.product=STSW-LINK009.version=2.0.1.html">https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-utilities/stsw-link009.license=1564137466456.product=STSW-LINK009.version=2.0.1.html</a>
 Run stlink<sub>winusb</sub><sub>install</sub> batch file to install driver.
</p>
</section>
<section id="slide-org4d77a91">
<h3 id="org4d77a91">ST link utilities</h3>
<p>
Download st link utility from 
<a href="https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stsw-link004.html">https://my.st.com/content/my_st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-programmers/stsw-link004.html</a>
</p>

</section>
</section>
<section>
<section id="slide-org67bad24">
<h2 id="org67bad24">Debug Server</h2>
<div class="outline-text-2" id="text-org67bad24">
</div>
</section>
<section id="slide-orgbef770f">
<h3 id="orgbef770f">OpenOCD</h3>
</section>
<section id="slide-org05e7606">
<h3 id="org05e7606">GDB Server</h3>
</section>
</section>
<section>
<section id="slide-orga807355">
<h2 id="orga807355">libopencm3 or STM HAL</h2>


</section>
</section>
<section>
<section id="slide-org1ea2dc2">
<h2 id="org1ea2dc2">STM32Cube Project</h2>
<ol>
<li>Create STM32Cube project</li>
<li>Select board</li>
<li>Give project Name</li>
<li>Select target C++</li>

</ol>
</section>
</section>
<section>
<section id="slide-org3777586">
<h2 id="org3777586">Hello World</h2>
<div class="outline-text-2" id="text-org3777586">
</div>
</section>
<section id="slide-org39403fa">
<h3 id="org39403fa">Write Program</h3>
</section>
<section id="slide-org5139794">
<h3 id="org5139794">Compliling</h3>
</section>
<section id="slide-org8c2b0db">
<h3 id="org8c2b0db">Linking</h3>
</section>
<section id="slide-org420c186">
<h3 id="org420c186">Loading firmware to target</h3>
<div class="outline-text-3" id="text-org420c186">
</div>
</section>
<section id="slide-orgb154124">
<h4 id="orgb154124">Converting to binary</h4>
<p>
ELf file consists of additional header informatio. but to load binary on target flash we need to strip down this 
additional information. 
</p>
<div class="org-src-container">

<pre  class="src src-shell"><code trim>
arm-none-eabi-objcopy -I elf -O binary firmware.elf firmware.bin

</code></pre>
</div>
</section>
<section id="slide-org70799c1">
<h4 id="org70799c1">Programming Controller</h4>
<div class="org-src-container">

<pre  class="src src-bash"><code trim>st-link_cli -C SWD -P firmware.bin <span style="color: #a45bad;">0x8000000</span> -V <span style="color: #2d9574;">"after_programming"</span>

</code></pre>
</div>
<p>
Linker scripts describes the
</p>
</section>
<section id="slide-orgb5d66d9">
<h3 id="orgb5d66d9">Debug</h3>
<div class="outline-text-3" id="text-orgb5d66d9">
</div>
</section>
<section id="slide-org57112e9">
<h4 id="org57112e9">Start GDB server</h4>
</section>
<section id="slide-orge255096">
<h4 id="orge255096">load elf</h4>
</section>
<section id="slide-org440b45f">
<h4 id="org440b45f">Debug</h4>
</section>
</section>
<section>
<section id="slide-org35f3545">
<h2 id="org35f3545">C++ 14</h2>
<p>
C++ standard evolved more rapidly after release of 2011
</p>
</section>
</section>
<section>
<section id="slide-orgc4f1e68">
<h2 id="orgc4f1e68">Use namespece</h2>
<p>
Explain how we can use namespace to simplify naming of common static functions.
#+SRC<sub>BEGIN</sub> C++
</p>

<p>
#+SRC<sub>END</sub>
</p>

</section>
</section>
<section>
<section id="slide-orgb7ff84e">
<h2 id="orgb7ff84e">Strongly typed</h2>
<div class="outline-text-2" id="text-orgb7ff84e">
</div>
</section>
<section id="slide-orgbd36d99">
<h3 id="orgbd36d99">enum class</h3>
</section>
</section>
<section>
<section id="slide-org9bfbbb7">
<h2 id="org9bfbbb7">Function Inline</h2>
<p>
Macros can be replaced with strongly typed
</p>
</section>
</section>
<section>
<section id="slide-orgf3dda49">
<h2 id="orgf3dda49">Type Conversions</h2>
<div class="outline-text-2" id="text-orgf3dda49">
</div>
</section>
<section id="slide-org9a35f2f">
<h3 id="org9a35f2f">dynamic<sub>cast</sub></h3>
</section>
<section id="slide-orge41e1f5">
<h3 id="orge41e1f5">reinterpret<sub>cast</sub></h3>
</section>
<section id="slide-org29e9136">
<h3 id="org29e9136">static<sub>cast</sub></h3>
</section>
<section id="slide-orgd2ae01c">
<h3 id="orgd2ae01c">const<sub>cast</sub></h3>
</section>
</section>
<section>
<section id="slide-orgd30a20d">
<h2 id="orgd30a20d">static asserts</h2>
<p>
This will help in compile time catching of errors.
</p>
</section>
</section>
<section>
<section id="slide-orgc4b5108">
<h2 id="orgc4b5108">Mixing C and C++  libraries</h2>
</section>
</section>
<section>
<section id="slide-org52b3238">
<h2 id="org52b3238">Templates</h2>
</section>
</section>
<section>
<section id="slide-org9288a27">
<h2 id="org9288a27">std::Array</h2>
</section>
</section>
<section>
<section id="slide-org6f8f6e9">
<h2 id="org6f8f6e9">std::tuple</h2>
</section>
</section>
<section>
<section id="slide-orgf897898">
<h2 id="orgf897898">Referances</h2>
<div class="outline-text-2" id="text-orgf897898">
</div>
</section>
<section id="slide-orgc9cb4dd">
<h3 id="orgc9cb4dd">Gnu C</h3>
<div class="outline-text-3" id="text-orgc9cb4dd">
</div>
</section>
<section id="slide-org55907e9">
<h4 id="org55907e9">Predefined macros</h4>
<p>
<a href="https://gcc.gnu.org/onlinedocs/cpp/Common-Predefined-Macros.html">https://gcc.gnu.org/onlinedocs/cpp/Common-Predefined-Macros.html</a>
</p>
</section>
<section id="slide-org6feee8e">
<h3 id="org6feee8e">Keil library</h3>
<div class="outline-text-3" id="text-org6feee8e">
</div>
</section>
<section id="slide-org8d3e569">
<h4 id="org8d3e569">run time library support</h4>
<p>
<a href="http://www.keil.com/support/man/docs/armlib/armlib_chr1358938908603.htm">http://www.keil.com/support/man/docs/armlib/armlib_chr1358938908603.htm</a>
</p>

<p>
C++ libraries need C libraries for target specific support.
</p>
</section>
</section>
</div>
</div>
<script src="./js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: './lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: './plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: './plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: './plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
